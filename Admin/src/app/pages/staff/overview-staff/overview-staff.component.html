<div class="container-fluid">
    <!-- Statistiques -->
    <div class="row mb-3">
        <div class="col-md-4 col-6 mb-3">
            <app-stat title="Candidats" [value]="totalCandidates" icon="bx-user"></app-stat>
        </div>
        <div class="col-md-4 col-6 mb-3">
            <app-stat title="Centres de formation" [value]="totalTrainingCenters" icon="bx-building-house"></app-stat>
        </div>
        <div class="col-md-4 col-6 mb-3">
            <app-stat title="Centres d'examen" [value]="totalExamCenters" icon="bx-map"></app-stat>
        </div>
    </div>
    <div class="row mb-3">
        <div class="col-md-4 col-6 mb-3">
            <app-stat title="Sessions" [value]="totalSessions" icon="bx-calendar"></app-stat>
        </div>
        <div class="col-md-4 col-6 mb-3">
            <app-stat title="Candidatures" [value]="totalApplications" icon="bx-file"></app-stat>
        </div>
        <div class="col-md-4 col-6 mb-3">
            <app-stat title="Paiements" [value]="totalPayments" icon="bx-credit-card"></app-stat>
        </div>
    </div>

    <!-- Barre d'outils -->
    <div class="row mb-3">
        <div class="col-md-6">
            <div class="d-flex gap-2">
                <button class="btn btn-outline-primary" (click)="loadStats()" [disabled]="loading">
                    <i class="bx bx-refresh" [class.bx-spin]="loading"></i>
                    {{ loading ? 'Actualisation...' : 'Actualiser' }}
                </button>
            </div>
        </div>
        <div class="col-md-6 text-end">
            <div class="d-flex gap-2 justify-content-end">
                <button class="btn btn-outline-secondary" (click)="showAdvancedFilters = !showAdvancedFilters">
                    <i class="bx bx-filter-alt"></i>
                    {{ showAdvancedFilters ? 'Masquer' : 'Afficher' }} les filtres
                </button>
            </div>
        </div>
    </div>

    <!-- Filtres avancés (masqués, placeholder) -->
    <div class="row mb-3" *ngIf="showAdvancedFilters">
        <div class="col-12">
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-light">
                    <h6 class="mb-0">
                        <i class="bx bx-filter-alt me-2"></i>
                        Filtres avancés (non disponibles sur le dashboard)
                    </h6>
                </div>
            </div>
        </div>
    </div>

    <!-- Tableau de synthèse -->
    <div class="row mt-3">
        <div class="col-md-12">
            <div class="card">
                <div class="card-body">
                    <h5 class="mb-3">Vue synthétique du système</h5>
                    <div class="table-responsive">
                        <table class="table table-bordered table-hover">
                            <thead class="table-light">
                                <tr>
                                    <th>Indicateur</th>
                                    <th>Valeur</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Candidats</td>
                                    <td>{{ totalCandidates }}</td>
                                </tr>
                                <tr>
                                    <td>Centres de formation</td>
                                    <td>{{ totalTrainingCenters }}</td>
                                </tr>
                                <tr>
                                    <td>Centres d'examen</td>
                                    <td>{{ totalExamCenters }}</td>
                                </tr>
                                <tr>
                                    <td>Sessions</td>
                                    <td>{{ totalSessions }}</td>
                                </tr>
                                <tr>
                                    <td>Candidatures</td>
                                    <td>{{ totalApplications }}</td>
                                </tr>
                                <tr>
                                    <td>Paiements</td>
                                    <td>{{ totalPayments }}</td>
                                </tr>
                                <tr>
                                    <td>Dossiers en attente</td>
                                    <td>{{ pendingApplications }}</td>
                                </tr>
                                <tr>
                                    <td>Sessions à venir</td>
                                    <td>{{ upcomingSessions }}</td>
                                </tr>
                                <tr>
                                    <td>Paiements en anomalie</td>
                                    <td>{{ anomalousPayments }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Accès rapide -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Accès rapide</h5>
                    <div class="row justify-content-center">
                        <div class="col-md-4 col-6 mb-2 d-flex justify-content-center">
                            <button class="btn btn-primary w-100 m-1" (click)="goTo('/backend/candidates-management')">Gérer les candidats</button>
                        </div>
                        <div class="col-md-4 col-6 mb-2 d-flex justify-content-center">
                            <button class="btn btn-primary w-100 m-1" (click)="goTo('/backend/training-centers-management')">Gérer les centres de formation</button>
                        </div>
                        <div class="col-md-4 col-6 mb-2 d-flex justify-content-center">
                            <button class="btn btn-primary w-100 m-1" (click)="goTo('/backend/exams-centers-management')">Gérer les centres d'examen</button>
                        </div>
                        <div class="col-md-4 col-6 mb-2 d-flex justify-content-center">
                            <button class="btn btn-primary w-100 m-1" (click)="goTo('/backend/session-management')">Gérer les sessions</button>
                        </div>
                        <div class="col-md-4 col-6 mb-2 d-flex justify-content-center">
                            <button class="btn btn-primary w-100 m-1" (click)="goTo('/backend/application-management')">Gérer les candidatures</button>
                        </div>
                        <div class="col-md-4 col-6 mb-2 d-flex justify-content-center">
                            <button class="btn btn-primary w-100 m-1" (click)="goTo('/backend/payment-gateway-management')">Gérer les paiements</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
